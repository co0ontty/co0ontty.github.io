---
layout: post
title:  "VPS 搭建梯子"
date:   2018-11-29 
author: co0ontty
cover: '/assets/img/posts/899de2f53f13eadee3c9f4f1769e233f.jpg'
categories: Tools 运维 ALL
tags: Tools 运维 ALL
describe: 使用 VPS 科学上网配置方法
---
## 安装依赖
```bash
## 安装 shadowsocks
方法1:
sudo apt-get install python-pip
sudo pip install shadowsocks
方法2 (推荐):
git clone https://github.com/shadowsocks/shadowsocks.git
cd shadowsocks
python setup.py build
python setup.py install
## 安装 libsodium-dev 以支持高级加密算法
sudo apt install libsodium-dev
## 修改部分系统配置以加速
echo '* hard nofile 51200' >> /etc/security/limits.conf
echo '* soft nofile 51200' >> /etc/security/limits.conf
ulimit -n 51200
更多配置文件[参考](https://vastxiao.github.io/article/2018/03/10/proxy-agentd-tool-shadowsocks/)
```
## 创建/etc/shadowsocks.json 文件
```bash
vim /etc/shadowsocks.json
{
"server":"ip—address",
"server_port":port,
"local_address": "127.0.0.1",
"local_port":1080,
"password":"password",
"timeout":300,
~~"method":"aes-256-cfb"~~
"method":"chacha20-ietf-poly1305"
}
sudo chmod 755 /etc/shadowsocks.json
sudo ssserver -c /etc/shadowsocks.json -d start
```
~~安装锐速加速：~~
~~wget co0ontty.github.io/things/ruisu.sh && bash ruisu.sh~~
~~注意：~~
~~安装完会自动重启 正常现象 重启后就安装好了锐速，可以使用 ps aux | grep appex 来检测是否运行~~
~~如果锐速没有自动安装可以使用/appex/appexinstall.sh 来安装~~
~~没有任何多余的判断，非 ubuntu16.04 和 ubuntu14.04 请勿运行~~
~~锐速推荐使用 Vicer 制作的 lotserver 一键包安装包~~

使用 BBR 加速 
```bash
wget --no-check-certificate https://github.com/teddysun/across/raw/master/bbr.sh
chmod +x bbr.sh
./bbr.sh 
```
安装完成后重启，使用命令查看是否开启 BBR 加速
```bash
sysctl net.ipv4.tcp_congestion_control
```
重启以后
ssserver -c /etc/shadowsocks.json -d start
## 检测ip是否被墙及更换ip
https://kiwivm.64clouds.com/main-exec.php?mode=blacklistcheck